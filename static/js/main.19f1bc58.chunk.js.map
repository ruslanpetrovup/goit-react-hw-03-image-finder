{"version":3,"sources":["Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Modal/Modal.js","BtnClick/BtnClick.js","App/App.js","index.js"],"names":["Searchbar","onSubmit","className","type","autocomplete","autofocus","placeholder","ImageGalleryItem","imagesItem","map","num","id","largeImageURL","src","webformatURL","alt","name","ImageGallery","children","modal","onClick","Modal","closeModal","BtnClick","btnfoto","axios","require","default","App","state","valueSeach","images","numPages","srcImg","isLoading","btnHidden","ReactDOM","render","document","querySelector","color","height","width","timeout","event","console","log","target","value","preventDefault","setState","setTimeout","renderElem","fetchImg","getElementById","window","scrollTo","top","documentElement","scrollHeight","behavior","get","then","response","push","data","hits","finally","nodeName","classList","contains","remove","evn","add","closeModalEsc","code","addEventListener","this","bind","removeEventListener","nextProps","nextState","React","Component"],"mappings":"oQAuBeA,EApBG,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACjB,OACI,wBAAQC,UAAU,YAAlB,SACI,uBAAMA,UAAU,aAAaD,SAAUA,EAAvC,UACI,wBAAQE,KAAK,SAASD,UAAU,oBAAhC,SACI,sBAAMA,UAAU,0BAAhB,sBAGJ,uBACIA,UAAU,mBACVC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,mCCJjBC,EAVU,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACxB,OACA,mCACKA,EAAWC,KAAI,SAACC,GAAU,OAAQ,oBAAIR,UAAU,mBAAd,SAC/B,qBAAkBS,GAAID,EAAIE,cAAeC,IAAKH,EAAII,aAAcC,IAAKL,EAAIM,KAAMd,UAAU,0BAA/EQ,EAAIC,YCGXM,EAPM,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,SAASC,EAAY,EAAZA,MAC7B,OACQ,oBAAIjB,UAAU,eAAeS,GAAG,eAAeS,QAASD,EAAxD,SACKD,KCOFG,EATD,SAAC,GAA2B,IAA1BR,EAAyB,EAAzBA,IAAIE,EAAqB,EAArBA,IAAKO,EAAgB,EAAhBA,WACrB,OACI,qBAAKpB,UAAU,mBAAmBkB,QAASE,EAA3C,SACA,qBAAKpB,UAAU,QAAf,SACQ,qBAAMW,IAAKA,EAAKE,IAAKA,S,gBCCtBQ,EANE,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACf,OAEQ,wBAAQtB,UAAU,SAASC,KAAK,SAASiB,QAASI,EAAlD,iCCGNC,EAAQC,EAAQ,IAASC,QAuIhBC,E,4MApIXC,MAAQ,CACJC,WAAY,GACZC,OAAQ,GACRC,SAAU,EACVC,OAAQ,GACRC,WAAW,G,EAafC,UAAY,YACqB,IAAzB,EAAKN,MAAMK,UAIfE,IAASC,OAAO,wBAAQnC,UAAU,SAASC,KAAK,SAASiB,QAAS,EAAKI,QAAvD,gCAA8Ec,SAASC,cAAc,eAHjHH,IAASC,OAAO,cAAC,IAAD,CAAQlC,KAAK,YAAYqC,MAAM,UAAUC,OAAQ,GAAIC,MAAO,GAAIC,QAAS,MAAUL,SAASC,cAAc,gB,EAOlItC,SAAW,SAAC2C,GACRC,QAAQC,IAA8B,KAA1B,EAAKjB,MAAMC,YACnB,EAAKD,MAAMC,aAAec,EAAMG,OAAO7B,SAAS,GAAG8B,OAA4C,KAAnCJ,EAAMG,OAAO7B,SAAS,GAAG8B,MACrFJ,EAAMK,kBAGNL,EAAMK,iBACN,EAAKC,SAAS,CACVnB,OAAQ,GACRC,SAAU,IAEd,EAAKkB,SAAS,CACVpB,WAAYc,EAAMG,OAAO7B,SAAS,GAAG8B,QAEzCG,YAAW,WACP,EAAKC,eACN,O,EAGXA,WAAa,WACT,IAAMrB,EAAS,EAAKsB,WACpBF,YAAW,WACPf,IAASC,OAAO,cAAC,EAAD,CAAkB7B,WAAYuB,IAAYO,SAASgB,eAAe,mBASnF,M,EAIP9B,QAAU,WACN,EAAK4B,aACLD,YAAW,WACPI,OAAOC,SAAS,CACZC,IAAKnB,SAASoB,gBAAgBC,aAC9BC,SAAU,aAGf,O,EAEPP,SAAW,WACP,EAAKH,SAAS,CACVhB,WAAW,IAEf,IAAMH,EAAM,qCAAiC,EAAKF,MAAMC,WAA5C,iBAA+D,EAAKD,MAAMG,SAA1E,+FAQZ,OAPAP,EAAMoC,IAAI9B,GAAQ+B,MAAK,SAAAC,GAAa,IAAD,GAC/B,IAAKlC,MAAME,QAAOiC,KAAlB,oBAA0BD,EAASE,KAAKC,UACzCJ,MAAK,WACJ,EAAKZ,SAAS,CACVlB,SAAU,EAAKH,MAAMG,SAAW,OAErCmC,SAAQ,kBAAM,EAAKjB,SAAS,CAAChB,WAAW,OACpC,EAAKL,MAAME,Q,EAEtBZ,MAAQ,SAACN,GACL,GAA4B,QAAxBA,EAAIkC,OAAOqB,SAAf,CAIA,IAAMjD,EAAQmB,SAASC,cAAc,YACjCpB,EAAMkD,UAAUC,WAChBnD,EAAMkD,UAAUE,OAAO,YACvB,EAAKrB,SAAS,CACVjB,OAAQpB,EAAIkC,OAAOpC,Q,EAO/BW,WAAa,SAACkD,GACV,GAA6B,YAAzBA,EAAIzB,OAAO7C,UAAf,CAGA,IAAMiB,EAAQmB,SAASC,cAAc,YACjCpB,EAAMkD,UAAUC,UAChBnD,EAAMkD,UAAUI,IAAI,c,EAG5BC,cAAgB,SAACF,GACb,GAAiB,WAAbA,EAAIG,KAAR,CAGA,IAAMxD,EAAQmB,SAASC,cAAc,YACjCpB,EAAMkD,UAAUC,UAChBnD,EAAMkD,UAAUI,IAAI,c,uDA9G5B,WACInC,SAASsC,iBAAiB,UAAWC,KAAKH,cAAcI,KAAKD,S,kCAEjE,WACIvC,SAASyC,oBAAoB,UAAWF,KAAKH,cAAcI,KAAKD,OAChEhC,QAAQC,IAAI,e,mCAEhB,SAAsBkC,EAAWC,GAEjC,OADA7C,IAASC,OAAO,oCAA2B,IAAxB4C,EAAU/C,UAAsB,cAAC,EAAD,CAAUV,QAASqD,KAAKrD,UAAc,cAAC,IAAD,CAAQrB,KAAK,YAAYqC,MAAM,UAAUC,OAAQ,GAAIC,MAAO,GAAIC,QAAS,QAAaL,SAASgB,eAAe,cAChMlB,IAASC,OAAO,cAAC,EAAD,CAAOxB,IAAKoE,EAAUhD,OAAQlB,IAAK,iCAASO,WAAYuD,KAAKvD,aAAgBgB,SAASgB,eAAe,Y,oBAwG5H,WACI,OACI,qCACA,cAAC,EAAD,CAAWrD,SAAU4E,KAAK5E,WACtB,cAAC,EAAD,CAAckB,MAAO0D,KAAK1D,QAE1B,sBAAKR,GAAG,QAAR,eAAkB,cAAC,EAAD,CAAOI,IAAK,iCAASO,WAAYuD,KAAKvD,WAAYoD,cAAeG,KAAKvD,gBACxF,qBAAKpB,UAAU,YAAYS,GAAG,qB,GAhI5BuE,IAAMC,W,MCJxB/C,IAASC,OAAO,cAAC,EAAD,IAASC,SAASgB,eAAe,W","file":"static/js/main.19f1bc58.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n    return (\r\n        <header className=\"Searchbar\">\r\n            <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n                <button type=\"submit\" className=\"SearchForm-button\">\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                </button>\r\n\r\n                <input\r\n                    className=\"SearchForm-input\"\r\n                    type=\"text\"\r\n                    autocomplete=\"off\"\r\n                    autofocus\r\n                    placeholder=\"Search images and photos\"\r\n                />\r\n            </form>\r\n        </header>\r\n\r\n    )\r\n}\r\nexport default Searchbar","import React from 'react';\r\n\r\nconst ImageGalleryItem = ({ imagesItem }) => {\r\n    return (\r\n    <>\r\n        {imagesItem.map((num) => { return (<li className=\"ImageGalleryItem\" >\r\n            <img key={num.id} id={num.largeImageURL} src={num.webformatURL} alt={num.name} className=\"ImageGalleryItem-image\" />\r\n            </li>)\r\n        })}\r\n    </>\r\n    )\r\n}\r\nexport default ImageGalleryItem","import React from 'react';\r\n\r\nconst ImageGallery = ({ children,modal }) => {\r\n    return (\r\n            <ul className=\"ImageGallery\" id=\"ImageGallery\" onClick={modal}>\r\n                {children}\r\n            </ul>\r\n        )\r\n    }\r\nexport default ImageGallery","import React from 'react';\r\n\r\n\r\nconst Modal = ({src,alt, closeModal}) => {\r\n    return (\r\n        <div className=\"Overlay isHidden\" onClick={closeModal} >\r\n        <div className=\"Modal\" >\r\n                <img  src={src} alt={alt} />\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Modal","import React from 'react';\r\n\r\nconst BtnClick = ({btnfoto}) => {\r\n    return (\r\n        \r\n            <button className='Button' type=\"button\" onClick={btnfoto}>Еще</button>\r\n    )\r\n}\r\nexport default BtnClick","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport Modal from '../Modal/Modal';\r\nimport Loader from \"react-loader-spinner\";\r\nimport BtnClick from '../BtnClick/BtnClick'\r\nconst axios = require('axios').default;\r\n\r\nclass App extends React.Component {\r\n    state = {\r\n        valueSeach: '',\r\n        images: [],\r\n        numPages: 1,\r\n        srcImg: '',\r\n        isLoading: true\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener(\"keydown\", this.closeModalEsc.bind(this))\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener('keydown', this.closeModalEsc.bind(this))\r\n        console.log('unmounted')\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n    ReactDOM.render(<>{nextState.isLoading !== false ? <BtnClick btnfoto={this.btnfoto} /> : <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} timeout={3000}/>}</>, document.getElementById('Buttoncon'))\r\n    return ReactDOM.render(<Modal src={nextState.srcImg} alt={'Потом'} closeModal={this.closeModal} />, document.getElementById('root2'))\r\n    }\r\n    btnHidden = () => {\r\n        if (this.state.isLoading !== true) {\r\n            ReactDOM.render(<Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} timeout={10000}/>, document.querySelector('.Buttoncon'));\r\n            return\r\n        }\r\n        ReactDOM.render(<button className='Button' type=\"button\" onClick={this.btnfoto}>Еще</button>, document.querySelector('.Buttoncon'));\r\n    }\r\n\r\n\r\n    onSubmit = (event) => {\r\n        console.log(this.state.valueSeach === '')\r\n        if (this.state.valueSeach === event.target.children[1].value || event.target.children[1].value === '') {\r\n            event.preventDefault();\r\n            \r\n        } else {\r\n            event.preventDefault();\r\n            this.setState({\r\n                images: [],\r\n                numPages: 1\r\n            })\r\n            this.setState({\r\n                valueSeach: event.target.children[1].value\r\n            })\r\n            setTimeout(() => {\r\n                this.renderElem()\r\n            }, 300)\r\n        }\r\n    }\r\n    renderElem = () => {\r\n        const images = this.fetchImg()\r\n        setTimeout(() => {\r\n            ReactDOM.render(<ImageGalleryItem imagesItem={images} />, document.getElementById('ImageGallery'));\r\n            \r\n        //     if (this.state.isLoading !== true) {\r\n        //     ReactDOM.render(<BtnClick btnfoto={this.btnfoto}/>,document.getElementById('Buttoncon'));\r\n            \r\n        // } else {\r\n        //     ReactDOM.render(<Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} timeout={3000}/>, document.querySelector('.Buttoncon'));\r\n            \r\n        // }\r\n        }, 700)\r\n            // ReactDOM.render(<BtnClick btnfoto={this.btnfoto}/>,document.getElementById('Buttoncon'))\r\n    }\r\n\r\n    btnfoto = () => {\r\n        this.renderElem()\r\n        setTimeout(() => {\r\n            window.scrollTo({\r\n                top: document.documentElement.scrollHeight,\r\n                behavior: 'smooth',\r\n            });\r\n\r\n        }, 1500)\r\n    }\r\n    fetchImg = () => {\r\n        this.setState({\r\n            isLoading: false\r\n        })\r\n        const images = `https://pixabay.com/api/?q=${this.state.valueSeach}&page=${this.state.numPages}&key=22641251-454133ad8981e71bbc25a7aae&image_type=photo&orientation=horizontal&per_page=12`;\r\n        axios.get(images).then(response => {\r\n            this.state.images.push(...response.data.hits)\r\n        }).then(() => {\r\n            this.setState({\r\n                numPages: this.state.numPages + 1\r\n            })\r\n        }).finally(() => this.setState({isLoading: true}))\r\n        return this.state.images\r\n    }\r\n    modal = (src) => {\r\n        if (src.target.nodeName !== \"IMG\") {\r\n            return\r\n        }\r\n        // const images = src.target.id;\r\n        const modal = document.querySelector('.Overlay')\r\n        if (modal.classList.contains) {\r\n            modal.classList.remove('isHidden')\r\n            this.setState({\r\n                srcImg: src.target.id\r\n            })\r\n            \r\n       } \r\n        \r\n       \r\n    }\r\n    closeModal = (evn) => {\r\n        if (evn.target.className !== \"Overlay\") {\r\n            return\r\n        }\r\n        const modal = document.querySelector('.Overlay')\r\n        if (modal.classList.contains) {\r\n            modal.classList.add('isHidden')\r\n        }\r\n    }\r\n    closeModalEsc = (evn) => {\r\n        if (evn.code !== \"Escape\") {\r\n            return\r\n        }\r\n        const modal = document.querySelector('.Overlay')\r\n        if (modal.classList.contains) {\r\n            modal.classList.add('isHidden')\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n            <Searchbar onSubmit={this.onSubmit} />\r\n                <ImageGallery modal={this.modal} />\r\n\r\n                <div id=\"root2\">  <Modal alt={'Потом'} closeModal={this.closeModal} closeModalEsc={this.closeModal} /></div>\r\n                <div className='Buttoncon' id=\"Buttoncon\"></div>\r\n            </>\r\n        )\r\n    } \r\n}\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App/App'\r\nimport './style.css'\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}